/*
*
*
* DM SLIDER v1.1 By DM THEMES
* 
*
*/

(function($){$.fn.DMSlider=function(options){var settings={'speed':10000,'blogUrl':'','titles':true,'descriptions':true,'width':940,'height':360,'bluegrey':false};return this.each(function(){if(options){$.extend(settings,options);}
if(settings.bluegrey){settings.blogUrl=settings.blogUrl+'/images/blue-grey';}else{settings.blogUrl=settings.blogUrl+'/images';}
var interval;var slide_total_number=$('#dm_slider_images img').size();var slide_counter=0;var counterOfMovements=1;var clicked;var counterTL;var maxTL;var checker=0;var random_no;var timerD;var flag;var block3;var timecounter;var intcounter;var remtime;$('.dm_slider_tab h1').fadeTo(0,0.7);$(' .fulltitle_dms').hide();positionTabs();positionTitles();switchSlide();var testt=1;$('#wrapperDMfix').css({'visibility':'visible'});$('#wrapFirstDM').css({'background-image':'none'});function increaseTime(){timecounter=timecounter+250;}
function switchSlide(){if(slide_counter<slide_total_number){$('#dm_slider_images img').eq(slide_counter-1).css({"z-index":"1"});$('#dm_slider_images img').eq(slide_counter).hide().addClass('currentDMimg').css({"z-index":"5"});imageTransition($('#dm_slider_images img').eq(slide_counter));$('.dm_slider_tab:eq('+slide_counter+') .fulltitle_dms').show();$('.dm_slider_tab:eq('+slide_counter+') .shorttitle_dms').hide();$('.dm_slider_tab p').eq(slide_counter).addClass('currentDMtab').slideDown(300);$('.dm_slider_tab:eq('+slide_counter+') p span').css({"display":"block"});$('.dm_slider_tab:eq('+slide_counter+') .timeLineDM ').animate({backgroundPosition:'235px 0px'},settings.speed,function(){$(".dm_slider_block").remove();switchSlide();});$('.dm_slider_tab:eq('+slide_counter+') .dm_slider_play ').removeClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/stop.png)","z-index":"3"});$(".currentDMtab").parent().addClass('activeDMbg');if(!(slide_counter==0)){$('#dm_slider_images img').eq((slide_counter-1)).removeClass('currentDMimg');$('.dm_slider_tab:eq('+(slide_counter-1)+') p span').css({"display":"none"})
$('.dm_slider_tab p').eq((slide_counter-1)).removeClass('currentDMtab').slideUp(300);$('.dm_slider_tab:eq('+(slide_counter-1)+') .fulltitle_dms').hide();$('.dm_slider_tab:eq('+(slide_counter-1)+') .shorttitle_dms').show();$('.dm_slider_tab p').eq((slide_counter-1)).parent().removeClass('activeDMbg');$('.dm_slider_tab:eq('+(slide_counter-1)+') .dm_slider_play ').addClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/play.png)","z-index":"2"});}
slide_counter++;if(clicked==0)moveTabs();clicked=0;clearInterval(intcounter);timecounter=0;intcounter=setInterval(increaseTime,250);}
else{$('#dm_slider_images img:first').addClass('currentDMimg').css({"z-index":"5"});$('#dm_slider_images img:last').removeClass('currentDMimg').css({"z-index":"1"});$('#dm_slider_images img').hide();$('#dm_slider_images img:last').show();imageTransition($('#dm_slider_images img:first'));$('.dm_slider_tab:last p span').css({"display":"none"})
$('.dm_slider_tab p:first').addClass('currentDMtab').slideDown(300);$('.dm_slider_tab:first .fulltitle_dms').show();$('.dm_slider_tab:last .fulltitle_dms').hide();$('.dm_slider_tab:first .shorttitle_dms').hide();$('.dm_slider_tab:last .shorttitle_dms').show();$('.dm_slider_tab p:last').removeClass('currentDMtab').slideUp(300);$('.dm_slider_tab:first p span').css({"display":"inline"})
$('.dm_slider_play:last ').addClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/play.png)","z-index":"2"});$('.dm_slider_tab:first .dm_slider_play ').removeClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/stop.png)","z-index":"3"});$('.dm_slider_tab p:last').parent().removeClass('activeDMbg');$('.dm_slider_tab p:first').parent().addClass('activeDMbg');$('.timeLineDM').stop().css({backgroundPosition:'0px 0px'});$('.timeLineDM:eq(0)').animate({backgroundPosition:'235px 0px'},settings.speed,function(){switchSlide();});$('#tabsHide').animate({left:'0'},200);counterOfMovements=1;slide_counter=1;clearInterval(intcounter);timecounter=0;intcounter=setInterval(increaseTime,250);}}
$('.dm_slider_tab').hover(function(){$(".dm_play_notactive",this).css({"backgroundImage":"url("+settings.blogUrl+"/play_hover.png)"})},function()
{$(".dm_play_notactive",this).css({"backgroundImage":"url("+settings.blogUrl+"/play.png)"})});$(".dm_slider_tab").click(function(){var playicon=$(".dm_slider_play",this);if(playicon.css("z-index")=="2"){clearInterval(intcounter);timecounter=0;intcounter=setInterval(increaseTime,250);$('.dm_slider_play').addClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/play.png)","z-index":"2"});$('.dm_slider_tab p').parent().removeClass('activeDMbg');$('#dm_slider_images img').hide();$('#dm_slider_images img.currentDMimg').show().css({"z-index":"1"}).removeClass('currentDMimg');$('.dm_slider_tab p.currentDMtab span').css({"display":"none"});var deki=$('.dm_slider_tab p.currentDMtab').parent();$('.fulltitle_dms',deki).hide();$('.shorttitle_dms',deki).show();$('.dm_slider_tab p.currentDMtab').removeClass('currentDMtab').slideUp(300);index=$('.dm_slider_play').index(playicon);counterTL=index;maxTL=slide_counter;if(index<(slide_counter-1)){if(slide_total_number>4&&counterOfMovements!==1){$('#tabsHide').animate({left:'+=235'})
counterOfMovements--;clicked=1;}
for(counterTL;counterTL<maxTL;counterTL++){$('.dm_slider_tab:eq('+counterTL+') .timeLineDM ').stop().css({backgroundPosition:'0px 0px'});};}
else if(index==(slide_counter-1)){$('.dm_slider_tab:eq('+index+') .timeLineDM ').stop().css({backgroundPosition:'0px 0px'});clicked=1;}
else if(index>(slide_counter-1)){for(maxTL=maxTL-1;maxTL<counterTL;maxTL++){$('.dm_slider_tab:eq('+maxTL+') .timeLineDM ').stop().css({backgroundPosition:'235px 0px'});};};if(index==0){$('.timeLineDM ').stop().css({backgroundPosition:'0px 0px'});}
if(index==(slide_counter-1)){$('.dm_slider_tab:eq('+index+') .timeLineDM ').stop().css({backgroundPosition:'0px 0px'})};slide_counter=index;switchSlide();}
else if(playicon.css("z-index")=="3"){$('.timeLineDM').eq(slide_counter-1).stop();$(playicon).removeClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/play_l.png)","z-index":"4"});remtime=settings.speed-timecounter;clearInterval(intcounter);}
else if(playicon.css("z-index")=="4"){intcounter=setInterval(increaseTime,250);$('.timeLineDM').eq(slide_counter-1).animate({backgroundPosition:'235px 0px'},remtime,function(){switchSlide();});$(playicon).removeClass('dm_play_notactive').css({"backgroundImage":"url("+settings.blogUrl+"/stop.png)","z-index":"3"});}});function positionTabs(){var left=0,counter=0;for(counter=0;counter<slide_total_number;counter++){$('.dm_slider_tab').eq(counter).css("left",""+left+"px");left=left+235;}}
function moveTabs(){var currentTabNumber=$('.currentDMtab').index();var maxMovements=slide_total_number-4;if(slide_total_number>4&&counterOfMovements<=maxMovements&&slide_counter>3){$('#tabsHide').animate({left:'-=235'});counterOfMovements++;}}
function positionTitles(){var height;var countD=0;for(countD=0;countD<slide_total_number;countD++){height=$(".dm_slider_tab:eq("+countD+") .shorttitle_dms").height();if(height>17){height=10;}else{height=18;};$(".dm_slider_tab:eq("+countD+") .shorttitle_dms").css({"top":""+height+"px"});};};function imageTransition(image)
{w=940;h=360;arr=new Array();i=0;j=0;index=0;src=image.attr("src");block=$("<div />",{css:{position:"absolute",width:w,height:h,'background-image':'url('+src+')',display:'block',opacity:0,"z-index":50}}).addClass('dm_slider_block');while(i<settings.height)
{arr[index]=block.clone().css({top:i,backgroundPosition:"0px 0px"});$("#dm_slider_images").append(arr[index++]);i=i+h;}
i=0;var tttime=0;timerD=setInterval(function(){if(tttime==1)
{tttime=0;clearInterval(timerD);$('#dm_slider_images img').eq(slide_counter-1).show();return;}
arr[0].animate({opacity:1},605,function(){tttime=1;});},80);};});};})(jQuery);